{
    "version": 2,
    "builds": [
        {
            "src": "package.json",
            "use": "@vercel/static-build",
            "config": { "distDir": "dist" }
        }
    ],
    "rewrites": [
        { "source": "/Store/api/:path*", "destination": "http://52.62.234.97:8080/Store/api/:path*" },

        { "source": "/Store/uploads/:path*", "destination": "http://52.62.234.97:8080/Store/uploads/:path*" },

        { "source": "/api/uploads/:path*", "destination": "http://52.62.234.97:8080/Store/uploads/:path*" },

        { "source": "/:path*", "destination": "/index.html" }
    ],
    "headers": [
        {
            "source": "/Store/uploads/:path*",
            "headers": [{ "key": "Cache-Control", "value": "public, max-age=3600, stale-while-revalidate=86400" }]
        },
        {
            "source": "/api/uploads/:path*",
            "headers": [{ "key": "Cache-Control", "value": "public, max-age=3600, stale-while-revalidate=86400" }]
        }
    ]
}
